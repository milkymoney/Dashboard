## golang代码规范

### 工具

* 提交代码前使用fmt工具进行格式化
* 测试使用go test

### 目录规范

|- conf
|- controllers
|- models
|- routers
|- tests

### import规范

import在多行的情况下，使用

```golang
import(
    "fmt"
)
```

一般而言，会有三种包：标准库包、程序内部包、第三方包，采用如下的格式进行组织

```golang
import (
    "encoding/json"
    "strings"

    "myproject/models"
    "myproject/controller"
    "myproject/utils"

    "github.com/astaxie/beego"
    "github.com/go-sql-driver/mysql"
)   
```

### 变量声明

使用驼峰标准，尽量避免使用`-`来命名变量。

函数外部声明变量必须使用var而不是`:=`，尽量减少全局变量

### 错误处理

除非是确认一定不会发生错误，不丢弃返回err的调用。错误信息生成暂时采用`error.New()`与`fmt.Errorf()`两种方式。在API的返回信息中，如果没有明确规定，则直接返回错误。

### 异常

因为项目是API，绝对禁止在非测试环境下抛出panic，没有特殊情况。

### 指针

因为golang控制指针变量的释放，因此函数中传递struct对象时尽量使用指针变量减少复制的开销。
